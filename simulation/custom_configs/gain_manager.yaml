gain_management:

  fallback_gains:

    GPS: "tight"

tight:

  horizontal:
    kp: 3.9 # 3   3.9   5.07   8.57
    kv: 1.4 # 2   1.4   0.98   0.69 
    ka: 1.0

    attitude:
      kq: 5.0

    kib: 0.1
    kib_lim: 10.0

    kiw: 0.1
    kiw_lim: 10.0

  # influences yawing
  vertical:
    kp: 19.5    # 15   19.5   25.35   32.95   42.84
    kv: 5.6  # 8    5.6    3.92    2.74    1.92
    ka: 1.0

    attitude:
      kq: 5.0

  mass_estimator:
    km: 1.0
    km_lim: 3.0 # [kg, at least 1/2 of the UAVs mass to allow landing detection]

# gains can be muted by the tracker by this factor
# gains are also muting just after activation
gain_mute_coefficient: 0.5

constraints:

  thrust_saturation: 0.9 # [-], range from 0 to 1

  # When the controller wants to output tilt larger than this,
  # it will return an empty command instead, which should trigger
  # a failsafe in the control manager.
  tilt_angle_failsafe: 90.0 # [deg], disabled when 0.0

rampup:
  enabled: true
  speed: 0.75 # [1/s]

gains_filter:
  perc_change_rate: 1.0
  min_change_rate: 0.1 # perc of the difference

angular_rate_feedforward:

  # compensation of a parasitic heading rate due to pitch and roll rate
  parasitic_pitch_roll: true

  # jerk feed forward
  jerk: true

rotation_matrix: 1 # {0 = lee, 1 = baca (oblique projection}

# output mode to PixHawk
output_mode: 0 # {0 = attitude_rate, 1 = orientation}
